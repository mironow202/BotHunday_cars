# О самом боте и его функционале #
**Мой первый проект ноября 21 года. На данный момент функционал уже устарел, т.к на сайт была поставлена новая защита от ботов.**
***
*<https://showroom.hyundai.ru/> - один из единственых ****(на то время)**** в России автомобильных компаний, которые смогли наладить поставки прямо с завода.
Тем самым, когда машина выходит с конвеера - попадает на сайт, где ее можно забронировать и в дальнейшем приобрести. Время, когда машины поставлялись всегда рандомное. Бронировалась одна машина максимум за 40-50 секунд. Цена на сам автомобиль соотвественно была намного дешевле.(WizardPatrick - my second account is just ssh connected to this laptop)*

Как работает?
-------------------------
1 STEP:

*Заходит на сайт, происходит проверка авторизации. Без нее бронировать машину нельзя.*

+ Если пользователь авторизован, начинается обновление сайта в период 7-9 секунд. Если чекбокс машин меняется - значит пришла тачка.

+ Если не авторизирован, то переходит в окно авторизации, вбивается номер, и ожидается звонок. Последние четыре цифры необходимо вбить в это окно,
 но каждый раз при нажатии таблатура рандомно генерирует порядок чисел.
 Я сделал мобильноое приложение на xamarin(исходников сюда не смог добавить, давно было) апишку на asp.net. 
 Телефон сбрасывает последний вызов, отправляет по api данные, я их получаю в приложении, потом с помощью небольшой "нейросети" (изначально делал на emgu-cv, но это было долго, потом придумал более альтернативный и быстрый алгоритм)
1) Скрин, обрезаем, делаем 12 частей
2) Считаем по каждой число черных пикселей
3) Сверяем со своим списком - у меня точная инфа где например цифра 5, или 4
Тем самым за 2-3 секунды капча решалась.  

![image](https://user-images.githubusercontent.com/96023667/174889867-45342a4a-9c5e-43d2-a88c-e130a5b8ea4f.png)

***
2 STEP:
Если появилась машина, бот тыкает на первую попавшуюся из списка предложенных

![image](https://user-images.githubusercontent.com/96023667/174893241-29eefabd-f8ac-4f9d-a6fc-6ededf4077a1.png)
***
3 STEP:
Принимаем пользовательское соглашение, заполняем данные о себе, и нажимаем забронировать.

![image](https://user-images.githubusercontent.com/96023667/174893826-edd24cfa-c4b2-4023-b9d5-6f2bdec005e7.png)
***
4 STEP:
Далее нам вновь попросят ввести последние четыре цифры с номера телефона. На момент нажатия кнопки, пользователь должен быть авторизован, иначе перебросит на окно авторизации.
***
5 STEP = END:
Бронь авто, там уже указывается карта, методы оплаты и так далее.
